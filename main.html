<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FarmsStat — Smart Farmhouse Billing</title>

  <!-- Bootstrap CSS for responsive layout -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="icon" type="image/png" href="logo.png">

  <style>
    :root {
      --bg: #071021;
      --panel: #0f1724;
      --muted: #94a3b8;
      --accent: #22c55e;
      --accent-2: #10b981;
      --card-border: rgba(255,255,255,0.03);
      --text: #e6eef2;
    }

    html,body {
      height:100%;
      margin:0;
      background: linear-gradient(180deg,#071021 0%, #081423 60%);
      color:var(--text);
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* NAV */
    .navbar-dark { background: #09101a; border-bottom: 1px solid var(--card-border); }
    .navbar-brand { color: var(--accent) !important; font-weight:700; }
    .nav-link { color: rgba(230,238,242,0.88) !important; margin-right: 1rem; }
    .nav-right { display:flex; gap:10px; align-items:center; }
    .trial-pill { background: rgba(255,255,255,0.03); padding:6px 12px; border-radius:18px; font-weight:600; }

    /* Buttons */
    .btn-cta {
      background: linear-gradient(90deg,var(--accent),var(--accent-2));
      color:#00210b;
      font-weight:700;
      border-radius:10px;
      padding:10px 18px;
      border: none;
      box-shadow: 0 6px 18px rgba(2,6,23,0.45);
    }
    .btn-ghost {
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.04);
      color:var(--text);
      padding:8px 14px;
      border-radius:10px;
    }

    /* HERO */
    .hero { padding:72px 16px 56px 16px; text-align:center; }
    .hero h1 { font-size:48px; margin:0; color: var(--accent); font-weight:800; line-height:1.05; }
    .hero p { color: rgba(230,238,242,0.7); margin-top:14px; font-size:18px; max-width:980px; margin-left:auto;margin-right:auto; }

    /* PANELS */
    .panel { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:14px; padding:20px; border:1px solid var(--card-border); }
    .pricing-card { background: rgba(255,255,255,0.02); border-radius:14px; padding:28px; }
    .pricing-card h3 { color: var(--accent); }
    .pricing-price { font-size:28px; font-weight:800; margin-top:6px; }
    .subscription-card { background: rgba(255,255,255,0.02); border-radius:14px; padding:22px; }
    .muted { color: rgba(230,238,242,0.6); }
    .feature-pill { display:inline-block; padding:6px 12px; border-radius:999px; background: rgba(255,255,255,0.02); color: var(--muted); margin-right:8px; margin-top:6px; }

    footer { padding:28px 0; color: rgba(230,238,242,0.6); text-align:center; margin-top:40px; }

    @media (max-width:768px){
      .hero h1 { font-size:28px; }
      .pricing-card { padding:18px; }
      .hero { padding:36px 12px; }
    }

    .section-title { text-align:center; font-weight:700; margin-bottom:1rem; color:var(--text); }
  </style>

  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
</head>
<body>
  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="/">FarmsStat</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#topNav" aria-controls="topNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="topNav">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link" href="#features">Features</a></li>
          <li class="nav-item"><a class="nav-link" href="#pricing">Pricing</a></li>
          <li class="nav-item"><a class="nav-link" href="#how">How it works</a></li>
        </ul>

        <div class="nav-right">
          <div id="subscriptionStatus" class="trial-pill muted">Checking subscription...</div>
          <div id="userGreeting" class="muted"></div>
          <button id="logoutBtn" class="btn btn-ghost" style="display:none;">Logout</button>
          <button id="goDashboardBtn" class="btn btn-cta" style="display:none;">Go to Dashboard</button>
          <button id="loginBtn" class="btn btn-ghost">Login</button>
        </div>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <section class="hero">
    <h1>Smart Farmhouse Billing — Fast, private, mobile-ready</h1>
    <p>Create invoices, generate PDF bills, share on WhatsApp, and track history — each farmhouse has its own secure dashboard. New users get 30 days free.</p>
    <div style="margin-top:18px;">
      <button id="tryDashboardBtn" class="btn-cta">Try Dashboard</button>
      <button onclick="document.getElementById('pricing').scrollIntoView()" class="btn btn-ghost">See Pricing</button>
    </div>
  </section>

  <!-- WHY / FEATURES -->
  <section id="features" class="container">
    <div class="row">
      <div class="col-lg-8">
        <div class="panel">
          <h3 style="color:var(--accent)">Why FarmsStat?</h3>
          <p class="muted">Designed for farmhouse owners: quick invoice generation, WhatsApp sharing, PDF invoices, history and monthly stats — secure per-owner data backed by Firebase.</p>
          <div style="margin-top:12px;">
            <span class="feature-pill">PDF Invoices</span>
            <span class="feature-pill">WhatsApp Sharing</span>
            <span class="feature-pill">Per-owner Data</span>
            <span class="feature-pill">Offline-ready</span>
          </div>
        </div>
      </div>
      <div class="col-lg-4">
        <div class="panel subscription-card">
          <div style="font-size:12px;color:var(--muted)">Signed in</div>
          <div id="subscriptionBox" style="font-weight:800;margin-top:8px">Not signed in</div>
          <div style="margin-top:16px;">
            <button id="renewBtn1" class="btn btn-ghost btn-sm">Renew Monthly</button>
            <button id="renewBtn2" class="btn btn-ghost btn-sm">Renew Yearly</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- PRICING -->
  <section id="pricing" class="container mt-4">
    <h2 class="section-title">Pricing & Plans</h2>
    <div class="row gy-4">
      <div class="col-md-6 col-lg-4">
        <div class="pricing-card panel">
          <h3>Monthly</h3>
          <div class="pricing-price">₹349 <span class="muted" style="font-size:14px;">/ 29 days</span></div>
          <p class="muted">Best if you want short-term access. Auto-renew handled manually in this simple flow.</p>
          <button id="buyMonthly" class="btn-cta mt-3 w-100">Buy Monthly — ₹349</button>
        </div>
      </div>

      <div class="col-md-6 col-lg-4">
        <div class="pricing-card panel">
          <h3>Yearly</h3>
          <div class="pricing-price">₹3499 <span class="muted" style="font-size:14px;">/ 365 days</span></div>
          <p class="muted">Save on long-term cost. One-time payment gives access for 365 days.</p>
          <button id="buyYearly" class="btn-cta mt-3 w-100">Buy Yearly — ₹3499</button>
        </div>
      </div>

      <div class="col-md-12 col-lg-4">
        <div class="panel subscription-card">
          <h4>Your Subscription</h4>
          <div id="subscriptionDetails" style="margin-top:8px;" class="muted">Not signed in</div>
          <div style="margin-top:12px;">
            <button id="renewMonthlySmall" class="btn btn-ghost btn-sm">Renew Monthly</button>
            <button id="renewYearlySmall" class="btn btn-ghost btn-sm">Renew Yearly</button>
          </div>
        </div>
      </div>
    </div>

    <div class="panel mt-4">
      <h5>How trial & billing works</h5>
      <ul class="muted">
        <li>New users automatically receive a 30-day free trial on first login.</li>
        <li>After trial expires, access is blocked until a plan is purchased.</li>
        <li>Payments made via Razorpay (live gateway). After successful payment, your subscription expiry is updated in Firestore and you can access the dashboard immediately.</li>
      </ul>
    </div>
  </section>

  <!--<footer>-->
  <!--  <div class="container">-->
      <!--<small>&copy; 2025 FarmsStat — Your farmhouse billing companion</small>-->
  <!--  </div>-->
  <!--</footer>-->

  
  <!-- FEATURE HIGHLIGHTS -->
  <section class="container mt-5 mb-5" id="highlights">
    <div class="row gy-4 text-center">
      <div class="col-md-4" data-aos="fade-up">
        <div class="panel p-4">
          <h4 style="color:var(--accent)">Easy to Use</h4>
          <p class="muted">Create invoices in seconds with an intuitive, mobile-first interface designed for busy farmhouse owners.</p>
        </div>
      </div>
      <div class="col-md-4" data-aos="fade-up" data-aos-delay="100">
        <div class="panel p-4">
          <h4 style="color:var(--accent)">Secure Razorpay payments</h4>
          <p class="muted">Accept payments reliably via Razorpay (live gateway). Subscription status updates instantly.</p>
        </div>
      </div>
      <div class="col-md-4" data-aos="fade-up" data-aos-delay="200">
        <div class="panel p-4">
          <h4 style="color:var(--accent)">Dual theme available</h4>
          <p class="muted">Switch between dark & light themes. Light mode optimized for printing your invoices clearly.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- CONTACT FORM -->
  <section id="contact" class="container mt-5">
    <h2 class="section-title">Contact Us</h2>
    <div class="panel p-4">
      <form id="contactForm" action="https://api.web3forms.com/submit" method="POST">
        <input type="hidden" name="access_key" value="6441ba9a-baeb-4271-8115-bd49c5f8827a">

        <div class="mb-3">
          <label for="name" class="form-label">Name</label>
          <input type="text" class="form-control" id="name" name="name" required>
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Email</label>
          <input type="email" class="form-control" id="email" name="email" required>
        </div>
        <div class="mb-3">
          <label for="message" class="form-label">Message</label>
          <textarea class="form-control" id="message" name="message" rows="4" required></textarea>
        </div>

        <button type="submit" class="btn-cta">Send Message</button>
      </form>
      <div id="formResponse" class="mt-3" style="display:none; color: var(--accent); font-weight:600;">
        ✅ Email sent!
      </div>
    </div>
  
  <div class="container text-center mt-3 mb-4" style="color:var(--muted); font-size:14px;">&copy; 2025 FarmsStat — Your farmhouse billing companion</div>
</section>

  <script>
    const contactForm = document.getElementById('contactForm');
    const formResponse = document.getElementById('formResponse');
    contactForm.addEventListener('submit', async function(e) {
      e.preventDefault();
      const formData = new FormData(contactForm);
      try {
        const response = await fetch(contactForm.action, {
          method: 'POST',
          body: formData
        });
        if (response.ok) {
          formResponse.style.display = 'block';
          contactForm.reset();
        } else {
          alert('Failed to send email. Please try again.');
        }
      } catch (err) {
        alert('Error sending email.');
      }
    });
  </script>


  <!-- Razorpay checkout -->
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>

  <!-- Firebase + App logic -->
  <script type="module">
    // Wrap all initialization in async function (no top-level await)
    async function init() {
      // Firebase modular imports
      const { initializeApp } = await import("https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js");
      const authModule = await import("https://www.gstatic.com/firebasejs/10.12.3/firebase-auth.js");
      const firestoreModule = await import("https://www.gstatic.com/firebasejs/10.12.3/firebase-firestore.js");

      const { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged, setPersistence, browserLocalPersistence } = authModule;
      const { getFirestore, doc, getDoc, setDoc, serverTimestamp } = firestoreModule;

      // ---------- CONFIG ----------
      const firebaseConfig = {
        apiKey: "AIzaSyCb2dIwyu3eaAYYpLBPZtL4tp1a5tcLyvw",
        authDomain: "farmsstat.firebaseapp.com",
        projectId: "farmsstat",
        storageBucket: "farmsstat.appspot.com",
        messagingSenderId: "743112044480",
        appId: "1:743112044480:web:41a34d7af18ea3daa1e225"
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);
      const db = getFirestore(app);

      // Try to set persistence; if it fails, catch and continue (don't block)
      try {
        await setPersistence(auth, browserLocalPersistence);
      } catch (e) {
        console.warn('setPersistence failed (non-fatal):', e);
      }

      // Razorpay LIVE key (client-side only)
      const RAZORPAY_KEY = "rzp_live_RFiAFZQGqMOkHO";

      // UI elements
      const loginBtn = document.getElementById('loginBtn');
      const logoutBtn = document.getElementById('logoutBtn');
      const goDashboardBtn = document.getElementById('goDashboardBtn');
      const tryDashboardBtn = document.getElementById('tryDashboardBtn');
      const subscriptionStatus = document.getElementById('subscriptionStatus');
      const subscriptionBox = document.getElementById('subscriptionBox');
      const subscriptionDetails = document.getElementById('subscriptionDetails');
      const userGreeting = document.getElementById('userGreeting');

      // Helpers
      function formatDDMMYYYY(date) {
        if (!date) return '—';
        const d = String(date.getDate()).padStart(2,'0');
        const m = String(date.getMonth()+1).padStart(2,'0');
        const y = date.getFullYear();
        return `${d}/${m}/${y}`;
      }

      function parsePossibleDate(val){
        if (!val) return null;
        try {
          if (typeof val === 'string') {
            const d = new Date(val);
            if (!isNaN(d)) return d;
          }
          if (typeof val === 'number') {
            const d = new Date(val);
            if (!isNaN(d)) return d;
          }
          if (typeof val === 'object' && typeof val.toDate === 'function') {
            return val.toDate();
          }
        } catch (e) {
          console.warn('parsePossibleDate error', e);
        }
        return null;
      }

      // Ensure trial exists (creates subscription doc with expiry if missing)
      async function ensureTrialIfMissing(user) {
        if (!user) return null;
        const subRef = doc(db, 'subscriptions', user.uid);
        try {
          const snap = await getDoc(subRef);
          if (!snap.exists()) {
            const start = new Date();
            const end = new Date();
            end.setDate(start.getDate() + 30); // 30 days trial
            const payload = {
              plan: 'trial',
              startISO: start.toISOString(),
              expiry: end.toISOString(),
              createdAt: serverTimestamp(),
              createdBy: user.uid
            };
            await setDoc(subRef, payload, { merge: true });
            return payload;
          } else {
            return snap.data();
          }
        } catch (err) {
          console.error('ensureTrialIfMissing error', err);
          return null;
        }
      }

      // Save subscription (after payment) with consistent expiry field
      async function saveSubscription(user, planKey, days, paymentId, amount) {
        if (!user) return;
        const start = new Date();
        const end = new Date();
        end.setDate(start.getDate() + days);
        const subRef = doc(db, 'subscriptions', user.uid);
        const payload = {
          plan: planKey,
          startISO: start.toISOString(),
          expiry: end.toISOString(),
          paymentId: paymentId || null,
          paidAmount: amount || null,
          updatedAt: serverTimestamp(),
          createdBy: user.uid
        };
        await setDoc(subRef, payload, { merge: true });
        return payload;
      }

      // Refresh subscription UI robustly
      async function refreshSubscriptionUI(user) {
        // defensive element lookups
        const subStatusEl = document.getElementById('subscriptionStatus');
        const subBoxEl = document.getElementById('subscriptionBox');
        const subDetailsEl = document.getElementById('subscriptionDetails');
        const userGreetingEl = document.getElementById('userGreeting');
        const loginBtnEl = document.getElementById('loginBtn');
        const logoutBtnEl = document.getElementById('logoutBtn');
        const goDashboardBtnEl = document.getElementById('goDashboardBtn');

        if (!user) {
          if (subStatusEl) subStatusEl.textContent = '';
          if (subBoxEl) subBoxEl.textContent = 'Not signed in';
          if (subDetailsEl) subDetailsEl.textContent = 'Not signed in';
          if (userGreetingEl) userGreetingEl.textContent = '';
          if (logoutBtnEl) logoutBtnEl.style.display = 'none';
          if (goDashboardBtnEl) goDashboardBtnEl.style.display = 'none';
          if (loginBtnEl) loginBtnEl.style.display = 'inline-block';
          return;
        }

        // Ensure a trial exists (creates doc if missing)
        let s;
        try {
          await ensureTrialIfMissing(user);
          const subRef = doc(db, 'subscriptions', user.uid);
          const snap = await getDoc(subRef);
          s = snap.exists() ? snap.data() : null;
        } catch (err) {
          console.error('Error reading subscription', err);
          s = null;
        }

        // parse expiry from various possible fields
        let expiryDate = null;
        if (s) {
          expiryDate = parsePossibleDate(s.expiry) || parsePossibleDate(s.endISO) || parsePossibleDate(s.end) || parsePossibleDate(s.end_ts) || null;
        }

        // update greeting and button states
        if (userGreetingEl) userGreetingEl.textContent = `Hi, ${user.displayName || user.email || ''}`;
        if (loginBtnEl) loginBtnEl.style.display = 'none';
        if (logoutBtnEl) logoutBtnEl.style.display = 'inline-block';
        if (goDashboardBtnEl) goDashboardBtnEl.style.display = 'inline-block';

        // update subscription UI
        const planLabel = (s && s.plan) ? (s.plan === 'trial' ? 'Trial' : (typeof s.plan === 'string' ? (s.plan.charAt(0).toUpperCase() + s.plan.slice(1)) : 'Plan')) : 'Trial';
        if (expiryDate) {
          const dd = formatDDMMYYYY(expiryDate);
          if (subStatusEl) subStatusEl.textContent = `${planLabel} • Expires ${dd}`;
          if (subBoxEl) subBoxEl.innerHTML = `<strong>${planLabel} Plan</strong><br/>Expires: ${dd}`;
          if (subDetailsEl) subDetailsEl.textContent = `${planLabel} Plan • Expires ${dd}`;
        } else {
          if (subStatusEl) subStatusEl.textContent = `${planLabel} • Expires —`;
          if (subBoxEl) subBoxEl.innerHTML = `<strong>${planLabel} Plan</strong><br/>Expires: —`;
          if (subDetailsEl) subDetailsEl.textContent = `${planLabel} Plan • Expires —`;
        }
      }

      // Payment flow using Razorpay; planKey: 'monthly'|'yearly'
      async function startPayment(planKey) {
        const user = auth.currentUser;
        if (!user) {
          alert('Please log in first to purchase a plan.');
          return;
        }

        const isMonthly = planKey === 'monthly';
        const amount = isMonthly ? 349 : 3499;
        const days = isMonthly ? 29 : 365;
        const planLabel = isMonthly ? 'Monthly' : 'Yearly';

        const options = {
          key: RAZORPAY_KEY,
          amount: amount * 100, // paise
          currency: 'INR',
          name: 'FarmsStat',
          description: `${planLabel} Subscription`,
          handler: async function (response) {
            // on success, record subscription (expiry saved as ISO)
            try {
              await saveSubscription(user, planKey, days, response.razorpay_payment_id, amount);
              alert('Payment successful! Subscription activated.');
              await refreshSubscriptionUI(user);
            } catch (err) {
              console.error('Failed to save subscription after payment', err);
              alert('Payment succeeded but failed to save subscription. Contact support.');
            }
          },
          prefill: {
            name: user.displayName || '',
            email: user.email || ''
          },
          theme: { color: '#22c55e' }
        };

        try {
          const rzp = new Razorpay(options);
          rzp.on('payment.failed', function(response){
            console.warn('Payment failed:', response);
            alert('Payment failed or cancelled. Please try again.');
          });
          rzp.open();
        } catch (e) {
          console.error('Razorpay open error', e);
          alert('Unable to open payment gateway. Try again later.');
        }
      }

      // Button wiring
      const buyMonthlyBtn = document.getElementById('buyMonthly');
      const buyYearlyBtn = document.getElementById('buyYearly');
      const renewBtn1 = document.getElementById('renewBtn1');
      const renewBtn2 = document.getElementById('renewBtn2');
      const renewMonthlySmall = document.getElementById('renewMonthlySmall');
      const renewYearlySmall = document.getElementById('renewYearlySmall');

      if (buyMonthlyBtn) buyMonthlyBtn.addEventListener('click', () => startPayment('monthly'));
      if (buyYearlyBtn) buyYearlyBtn.addEventListener('click', () => startPayment('yearly'));
      if (renewBtn1) renewBtn1.addEventListener('click', () => startPayment('monthly'));
      if (renewBtn2) renewBtn2.addEventListener('click', () => startPayment('yearly'));
      if (renewMonthlySmall) renewMonthlySmall.addEventListener('click', () => startPayment('monthly'));
      if (renewYearlySmall) renewYearlySmall.addEventListener('click', () => startPayment('yearly'));

      // Auth UI wiring (use modular functions)
      const provider = new GoogleAuthProvider();
      if (loginBtn) loginBtn.addEventListener('click', async () => {
        try {
          await signInWithPopup(auth, provider);
        } catch (err) {
          console.error('Login failed', err);
          alert('Login failed: ' + (err.message || err));
        }
      });
      if (logoutBtn) logoutBtn.addEventListener('click', async () => {
        try {
          await signOut(auth);
        } catch (err) {
          console.error('Logout failed', err);
        }
      });

      if (goDashboardBtn) goDashboardBtn.addEventListener('click', async () => {
        const user = auth.currentUser;
        if (!user) { alert('Please login to access the dashboard'); return; }
        // check expiry before redirect
        try {
          const subRef = doc(db, 'subscriptions', user.uid);
          const snap = await getDoc(subRef);
          const s = snap.exists() ? snap.data() : null;
          const expiryDate = s ? (parsePossibleDate(s.expiry) || parsePossibleDate(s.endISO) || parsePossibleDate(s.end) || null) : null;
          if (!expiryDate || expiryDate > new Date()) {
            window.location.href = '/dashboard.html';
          } else {
            alert('Your subscription has expired. Please renew to access the dashboard.');
          }
        } catch (e) {
          console.error('Error checking subscription before dashboard', e);
          alert('Unable to verify subscription. Try again later.');
        }
      });

      if (tryDashboardBtn) tryDashboardBtn.addEventListener('click', async () => {
        const user = auth.currentUser;
        if (!user) { alert('Please login to access the dashboard. You will get a free 30-day trial on first login.'); return; }
        await ensureTrialIfMissing(user);
        window.location.href = '/dashboard.html';
      });

      // Auth state listener
      onAuthStateChanged(auth, async (user) => {
        try {
          await refreshSubscriptionUI(user);
        } catch (e) {
          console.error('onAuthStateChanged -> refreshSubscriptionUI error', e);
        }
      });

      // Fallback: if already signed in by the time script runs, refresh UI
      if (auth.currentUser) {
        try {
          await refreshSubscriptionUI(auth.currentUser);
        } catch (e) {
          console.error('Initial refreshSubscriptionUI error', e);
        }
      }

      // done init
      console.log('FarmsStat index initialized.');
    } // end init()

    // run initialization and catch any top-level errors
    init().catch(err => {
      console.error('Initialization error:', err);
      // If initialization fails, we still want the page to be usable; show friendly message
      try { document.getElementById('subscriptionStatus').textContent = 'Init failed'; } catch(e){}
    });
  </script>

  <!-- Bootstrap JS bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- AOS animation init & smooth scroll -->
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      AOS.init({ duration: 700, once: true, offset: 60 });
      // Smooth scroll for internal anchors
      document.querySelectorAll('a[href^="#"]').forEach(a => {
        a.addEventListener('click', function(e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        });
      });
    });
  </script>

</body>
</html>
